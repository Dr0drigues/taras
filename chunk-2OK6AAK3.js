import{c as x,d as g,f as m,g as f,h as u}from"./chunk-NJC4F6AZ.js";import{a as k,b as E}from"./chunk-KJXR6F6R.js";import{$ as h,B as l,L as w,N as p,R as M,U as r,V as d,W as c,_ as O,aa as a,ea as P,fa as y,ga as q,ja as j,m as b,pa as S,q as _,r as v}from"./chunk-QKHK5RZ5.js";var A=["envelope"];function z(i,s){if(i&1){let t=O();r(0,"div",3)(1,"div",4,0),h("click",function(){_(t);let e=a();return v(e.open())}),r(3,"div",5),h("@openCloseEnvelope.done",function(e){_(t);let o=a();return v(o.onEnvelopeAnimationDone(e))}),d(),c(4,"div",6),r(5,"div",7),h("@openCloseLetter.done",function(e){_(t);let o=a();return v(o.onLetterAnimationDone(e))}),c(6,"div",8)(7,"div",9)(8,"div",10)(9,"div",11),d(),r(10,"div",12),h("@heartAnimation.done",function(e){_(t);let o=a();return v(o.onHeartAnimationDone(e))}),c(11,"div",13)(12,"div",14)(13,"div",15),d()()(),r(14,"div",16)(15,"button",17),h("click",function(){_(t);let e=a();return v(e.open())}),j(16,"Ouvrir le courier"),d()()}if(i&2){let t=a();l(3),p("@openCloseEnvelope",t.envelopeState),l(2),p("@openCloseLetter",t.letterState),l(5),p("@heartAnimation",t.heartState)}}function V(i,s){if(i&1&&(r(0,"div",1)(1,"div",18),c(2,"tn-image",19),d(),r(3,"div",18),c(4,"tn-image",20),d()()),i&2){let t=a();l(2),p("image",t.letter)("half",!0),l(2),p("image",t.gif)("half",!0)("left",!1)("right",!0)}}var U=(()=>{let s=class s{constructor(){this.envelopeState="close",this.letterState="close",this.heartState="close",this.envelopeAnimationfinished=!1,this.letterAnimationfinished=!1,this.heartAnimationfinished=!1,this.music={name:"envelope",file:"sequences/endings/envelope/love.mp3"},this.letter={id:"letter",file:"sequences/endings/envelope/love.png"},this.gif={id:"gif",files:["sequences/endings/envelope/1.jpg","sequences/endings/envelope/2.jpg","sequences/endings/envelope/3.jpg","sequences/endings/envelope/4.jpg","sequences/endings/envelope/5.jpg","sequences/endings/envelope/6.jpg","sequences/endings/envelope/7.jpg","sequences/endings/envelope/8.jpg","sequences/endings/envelope/9.jpg","sequences/endings/envelope/10.jpg","sequences/endings/envelope/11.jpg","sequences/endings/envelope/12.jpg","sequences/endings/envelope/13.jpg","sequences/endings/envelope/14.jpg","sequences/endings/envelope/15.jpg","sequences/endings/envelope/16.jpg","sequences/endings/envelope/17.jpg","sequences/endings/envelope/18.jpg","sequences/endings/envelope/19.jpg","sequences/endings/envelope/20.jpg","sequences/endings/envelope/21.jpg","sequences/endings/envelope/22.jpg","sequences/endings/envelope/23.jpg","sequences/endings/envelope/24.jpg","sequences/endings/envelope/25.jpg","sequences/endings/envelope/26.jpg","sequences/endings/envelope/27.jpg","sequences/endings/envelope/28.jpg","sequences/endings/envelope/29.jpg","sequences/endings/envelope/30.jpg"],duration:1e3}}open(){this.envelopeState="open",this.letterState="open",this.heartState="open"}onEnvelopeAnimationDone(n){n.toState==="open"&&(this.envelopeAnimationfinished=!0)}onLetterAnimationDone(n){n.toState==="open"&&(this.letterAnimationfinished=!0)}onHeartAnimationDone(n){n.toState==="open"&&(this.heartAnimationfinished=!0)}};s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=b({type:s,selectors:[["tn-envelope"]],viewQuery:function(e,o){if(e&1&&P(A,5),e&2){let C;y(C=q())&&(o.envelope=C.first)}},standalone:!0,features:[S],decls:3,vars:2,consts:[["envelope",""],[1,"flex","flex-row","h-screen","w-screen"],[3,"music"],[1,"envelope-wrapper"],["id","envelope",3,"click"],[1,"front","flap"],[1,"front","pocket"],[1,"letter"],[1,"words","line1"],[1,"words","line2"],[1,"words","line3"],[1,"words","line4"],[1,"hearts"],[1,"heart","a1"],[1,"heart","a2"],[1,"heart","a3"],[1,"reset"],["id","open",3,"click"],[1,"h-full","w-full"],[3,"image","half"],[3,"image","half","left","right"]],template:function(e,o){e&1&&(w(0,z,17,3)(1,V,5,6,"div",1),c(2,"tn-music",2)),e&2&&(M(!o.envelopeAnimationfinished&&!o.letterAnimationfinished&&!o.heartAnimationfinished?0:1),l(2),p("music",o.music))},dependencies:[E,k],styles:['#envelope[_ngcontent-%COMP%]{position:relative;width:280px;height:180px;border-bottom-left-radius:6px;border-bottom-right-radius:6px;margin-left:auto;margin-right:auto;top:150px;background-color:#00334c;box-shadow:0 4px 20px #0003}.front[_ngcontent-%COMP%]{position:absolute;width:0;height:0;z-index:3}.flap[_ngcontent-%COMP%]{border-left:140px solid transparent;border-right:140px solid transparent;border-bottom:82px solid transparent;border-top:98px solid #00334c;transform-origin:top}.pocket[_ngcontent-%COMP%]{border-left:140px solid #0077b2;border-right:140px solid #0077b2;border-bottom:90px solid #006da3;border-top:90px solid transparent;border-bottom-left-radius:6px;border-bottom-right-radius:6px}.letter[_ngcontent-%COMP%]{position:relative;background-color:#fff;width:90%;margin-left:auto;margin-right:auto;height:90%;top:5%;border-radius:6px;box-shadow:0 2px 26px #0000001f}.letter[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background-image:linear-gradient(180deg,#fff0 25%,#d7e3efb3 55%,#d7e3ef)}.words[_ngcontent-%COMP%]{position:absolute;left:10%;width:80%;height:14%;background-color:#eeeff0}.words.line1[_ngcontent-%COMP%]{top:15%;width:20%;height:7%}.words.line2[_ngcontent-%COMP%]{top:30%}.words.line3[_ngcontent-%COMP%]{top:50%}.words.line4[_ngcontent-%COMP%]{top:70%}.open[_ngcontent-%COMP%]   .flap[_ngcontent-%COMP%]{transform:rotatex(180deg);transition:transform .4s ease,z-index .6s;z-index:1}.close[_ngcontent-%COMP%]   .flap[_ngcontent-%COMP%]{transform:rotatex(0);transition:transform .4s .6s ease,z-index 1s;z-index:5}.close[_ngcontent-%COMP%]   .letter[_ngcontent-%COMP%]{transform:translatey(0);transition:transform .4s ease,z-index 1s;z-index:1}.open[_ngcontent-%COMP%]   .letter[_ngcontent-%COMP%]{transform:translatey(-60px);transition:transform .4s .6s ease,z-index .6s;z-index:2}.hearts[_ngcontent-%COMP%]{position:absolute;top:90px;left:0;right:0;z-index:2}.heart[_ngcontent-%COMP%]{position:absolute;bottom:0;right:10%}.heart[_ngcontent-%COMP%]:before, .heart[_ngcontent-%COMP%]:after{position:absolute;content:"";left:50px;top:0;width:50px;height:80px;background:#d00000;border-radius:50px 50px 0 0;transform:rotate(-45deg);transform-origin:0 100%}.heart[_ngcontent-%COMP%]:after{left:0;transform:rotate(45deg);transform-origin:100% 100%}.close[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{opacity:0;animation:none}.a1[_ngcontent-%COMP%]{left:20%;transform:scale(.6);opacity:1;animation:_ngcontent-%COMP%_slideUp 4s linear 1,sideSway 2s ease-in-out 4 alternate;animation-fill-mode:forwards;animation-delay:.7s}.a2[_ngcontent-%COMP%]{left:55%;transform:scale(1);opacity:1;animation:_ngcontent-%COMP%_slideUp 5s linear 1,sideSway 4s ease-in-out 2 alternate;animation-fill-mode:forwards;animation-delay:.7s}.a3[_ngcontent-%COMP%]{left:10%;transform:scale(.8);opacity:1;animation:_ngcontent-%COMP%_slideUp 7s linear 1,sideSway 2s ease-in-out 6 alternate;animation-fill-mode:forwards;animation-delay:.7s}@keyframes _ngcontent-%COMP%_slideUp{0%{top:0}to{top:-600px}}@keyframes _ngcontent-%COMP%_sideSway{0%{margin-left:0}to{margin-left:50px}}body[_ngcontent-%COMP%]{background-color:#a8e2ff}.envelope-wrapper[_ngcontent-%COMP%]{height:380px}.reset[_ngcontent-%COMP%]{text-align:center}.reset[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:800;font-style:normal;transition:all .1s linear;-webkit-appearance:none;background-color:transparent;border:solid 2px #0077b2;border-radius:4px;color:#0077b2;display:inline-block;font-size:14px;text-transform:uppercase;margin:5px;padding:10px;line-height:1em;text-decoration:none;min-width:120px;outline:none}.reset[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0077b2;color:#fff}'],data:{animation:[x("openCloseEnvelope",[f("open",m({transform:"rotatex(0deg)",zIndex:1})),f("close",m({transform:"rotatex(0deg)",zIndex:5})),u("open => close",[g("0.4s")]),u("close => open",[g("0.4s")])]),x("openCloseLetter",[f("open",m({transform:"translatey(-60px)",zIndex:2})),f("close",m({transform:"translatey(0px)",zIndex:1})),u("open => close",[g("0.4s")]),u("close => open",[g("0.4s")])]),x("heartAnimation",[f("open",m({opacity:1,transform:"scale(1)",animation:"slideUp 4s linear 1, sideSway 2s ease-in-out 4 alternate"})),f("close",m({opacity:0,animation:"none"})),u("open => close",[g("0.4s")]),u("close => open",[g("0.4s")])])]}});let i=s;return i})();export{U as EnvelopeComponent};
