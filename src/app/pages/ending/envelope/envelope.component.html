@if (!envelopeAnimationfinished && !letterAnimationfinished && !heartAnimationfinished) {
  <div class="envelope-wrapper">
    <div id="envelope" #envelope (click)="open()">
      <div class="front flap" [@openCloseEnvelope]="envelopeState"
           (@openCloseEnvelope.done)="onEnvelopeAnimationDone($event)"></div>
      <div class="front pocket"></div>
      <div class="letter" [@openCloseLetter]="letterState"
           (@openCloseLetter.done)="onLetterAnimationDone($event)">
        <div class="words line1"></div>
        <div class="words line2"></div>
        <div class="words line3"></div>
        <div class="words line4"></div>
      </div>
      <div class="hearts" [@heartAnimation]="heartState"
           (@heartAnimation.done)="onHeartAnimationDone($event)">
        <div class="heart a1"></div>
        <div class="heart a2"></div>
        <div class="heart a3"></div>
      </div>
    </div>
  </div>
  <div class="reset">
    <button id="open" (click)="open()">Ouvrir le courier</button>
  </div>
} @else {
  <div class="flex flex-row h-screen w-screen">
    <div class="h-full w-full">
      <tn-image [image]="letter" [half]="true"></tn-image>
    </div>
    <div class="h-full w-full">
      <tn-image [image]="gif" [half]="true" [left]="false" [right]="true"></tn-image>
    </div>
  </div>
}
<tn-music [music]="music"></tn-music>
